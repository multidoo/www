<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MULTIDOO - Infrastructure for Things</title>
    <script src="https://www.paypal.com/sdk/js?client-id=test&currency=EUR"></script>
    <style>
        :root {
            --gold: #C5A572;
            --olive: #4A5724;
            --dark: #333333;
            --light: #FFFFFF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        /* ... (poprzednie style pozostają bez zmian) ... */
    </style>
</head>
<body>
    <div class="hero">
        <img src="/api/placeholder/200/200" alt="MULTIDOO Logo">
        <h1>MULTIDOO</h1>
        <p>Infrastructure for Things</p>
    </div>

    <div class="configurator">
        <h2>Configure Your Tower</h2>
        <div id="module-list" class="module-list">
            <!-- Modules will be inserted here by JavaScript -->
        </div>

        <div class="total-height">
            Total Tower Height: <span id="total-height">25</span>cm
        </div>

        <div class="price-summary">
            <h3>Configuration Summary</h3>
            <p>Total Modules: <span id="total-modules">1</span></p>
            <p>Total Price: €<span id="total-price">500</span></p>
        </div>

        <div id="paypal-button-container"></div>
    </div>

    <script>
        // Load modules configuration
        const modulesConfig = {
  "modules": [
    {
      "id": "base",
      "name": "Base Module",
      "description": "Foundation module with stabilization",
      "specs": [
        "Heavy-duty PVC construction",
        "Built-in leveling system",
        "Weight: 25kg"
      ],
      "height": 25,
      "diameter": 110,
      "price": 500,
      "minQuantity": 1,
      "maxQuantity": 1,
      "required": true
    },
    {
      "id": "battery",
      "name": "Battery Module",
      "description": "48V 100Ah Energy Storage",
      "specs": [
        "Li-Ion battery pack",
        "Integrated BMS",
        "Weight: 22kg"
      ],
      "height": 25,
      "diameter": 110,
      "price": 1200,
      "minQuantity": 0,
      "maxQuantity": 5,
      "required": false
    },
    {
      "id": "solar",
      "name": "Solar Module",
      "description": "400W PV Panel with MPPT",
      "specs": [
        "High-efficiency panels",
        "360° adjustable mount",
        "Weight: 18kg"
      ],
      "height": 25,
      "diameter": 110,
      "price": 800,
      "minQuantity": 0,
      "maxQuantity": 5,
      "required": false
    },
    {
      "id": "camera",
      "name": "Camera Module",
      "description": "4K PTZ Security Camera",
      "specs": [
        "360° rotation",
        "Night vision",
        "Weight: 15kg"
      ],
      "height": 25,
      "diameter": 110,
      "price": 900,
      "minQuantity": 0,
      "maxQuantity": 5,
      "required": false
    },
    {
      "id": "5g",
      "name": "5G Module",
      "description": "5G/LTE Communication Hub",
      "specs": [
        "Multi-band support",
        "Integrated router",
        "Weight: 16kg"
      ],
      "height": 25,
      "diameter": 110,
      "price": 1500,
      "minQuantity": 0,
      "maxQuantity": 5,
      "required": false
    },
    {
      "id": "sensor",
      "name": "Sensor Module",
      "description": "Environmental Monitoring",
      "specs": [
        "Temperature/Humidity",
        "Air quality",
        "Weight: 12kg"
      ],
      "height": 25,
      "diameter": 110,
      "price": 600,
      "minQuantity": 0,
      "maxQuantity": 5,
      "required": false
    }
  ],
  "systemLimits": {
    "maxTotalHeight": 500,
    "maxModules": 20,
    "minModules": 1
  },
  "currency": "EUR",
  "currencySymbol": "€"
};

        // Generate module HTML
        function createModuleHTML(module) {
            return `
                <div class="module-item" data-module-id="${module.id}">
                    <h3>${module.name}</h3>
                    <p>${module.description}</p>
                    <p class="module-specs">
                        ${module.specs.map(spec => `- ${spec}<br>`).join('')}
                    </p>
                    <p>Price: ${modulesConfig.currencySymbol}${module.price}</p>
                    <label>Quantity: <input type="number" 
                        min="${module.minQuantity}" 
                        max="${module.maxQuantity}" 
                        value="${module.minQuantity}"
                        ${module.required ? 'readonly' : ''}
                        class="module-qty"
                        data-height="${module.height}"
                        data-price="${module.price}">
                    </label>
                </div>
            `;
        }

        // Initialize configuration
        function initializeConfigurator() {
            const moduleList = document.getElementById('module-list');
            moduleList.innerHTML = modulesConfig.modules.map(createModuleHTML).join('');
            
            const moduleInputs = document.querySelectorAll('.module-qty');
            moduleInputs.forEach(input => {
                input.addEventListener('change', updateTotals);
            });

            updateTotals();
        }

        // Update totals
        function updateTotals() {
            const moduleInputs = document.querySelectorAll('.module-qty');
            let totalModules = 0;
            let totalPrice = 0;
            let totalHeight = 0;

            moduleInputs.forEach(input => {
                const quantity = parseInt(input.value);
                const height = parseInt(input.dataset.height);
                const price = parseInt(input.dataset.price);

                totalModules += quantity;
                totalHeight += quantity * height;
                totalPrice += quantity * price;
            });

            document.getElementById('total-modules').textContent = totalModules;
            document.getElementById('total-height').textContent = totalHeight;
            document.getElementById('total-price').textContent = totalPrice;
        }

        // PayPal integration
        paypal.Buttons({
            createOrder: function(data, actions) {
                return actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: document.getElementById('total-price').textContent
                        }
                    }]
                });
            },
            onApprove: function(data, actions) {
                return actions.order.capture().then(function(details) {
                    alert('Transaction completed by ' + details.payer.name.given_name);
                });
            }
        }).render('#paypal-button-container');

        // Initialize the configurator when the page loads
        document.addEventListener('DOMContentLoaded', initializeConfigurator);
    </script>
</body>
</html>
