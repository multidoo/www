<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MULTIDOO - Infrastructure for Things</title>
    <script src="https://www.paypal.com/sdk/js?client-id=test&currency=EUR"></script>
    <style>
        :root {
            --gold: #C5A572;
            --olive: #4A5724;
            --dark: #333333;
            --light: #FFFFFF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

    

        body {
            line-height: 1.6;
            color: var(--gold);
        }

        .hero {
            background: var(--light);
            color: var(--light);
            padding: 10px 10px;
            text-align: center;
        }

        .hero img {
            height: 300px;
            margin-bottom: 10px;
        }

        .hero h1 {
            font-size: 3em;
            margin-bottom: 20px;
            color: var(--gold);
        }

        .configurator {
            max-width: 1200px;
            margin: 10px auto;
            padding: 30px;
            background: #f5f5f5;
            border-radius: 10px;
        }

        .module-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .module-item {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid var(--gold);
        }

        .module-item input[type="number"] {
            width: 60px;
            padding: 5px;
            margin-left: 10px;
        }

        .price-summary {
            background: var(--olive);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .button {
            background: var(--gold);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 20px;
        }

        .button:hover {
            opacity: 0.9;
        }

        #paypal-button-container {
            margin-top: 20px;
            max-width: 300px;
        }

        .module-specs {
            font-size: 0.9em;
            color: #666;
            margin-top: 10px;
        }

        .total-height {
            font-size: 1.2em;
            margin-top: 10px;
            color: var(--gold);
        }
    </style>
</head>
<body>
    <div class="hero">
        <img src="2.png" alt="MULTIDOO Logo">        
    </div>

    <div class="configurator">
        <h1>MULTIDOO - Infrastructure for Things</h1>
        <h2>Configure Your Tower</h2>
        <div id="module-list" class="module-list">
            <!-- Modules will be inserted here by JavaScript -->
        </div>

        <div class="total-height">
            Total Tower Height: <span id="total-height">25</span>cm
        </div>

        <div class="price-summary">
            <h3>Configuration Summary</h3>
            <p>Total Modules: <span id="total-modules">1</span></p>
            <p>Total Price: €<span id="total-price">500</span></p>
        </div>

        <div id="paypal-button-container"></div>
    </div>

    <script>
        // Load modules configuration
        const modulesConfig = {
  "modules": [
    {
      "id": "base",
      "name": "Base Module",
      "description": "Foundation module with stabilization",
      "specs": [
        "Heavy-duty PVC construction",
        "Built-in leveling system",
        "Weight: 25kg"
      ],
      "height": 25,
      "diameter": 110,
      "price": 500,
      "minQuantity": 1,
      "maxQuantity": 1,
      "required": true
    },
    {
      "id": "battery",
      "name": "Battery Module",
      "description": "12V 5Ah Energy Storage",
      "specs": [
        "AGM battery pack",
        "Connectors",
        "Weight: 2kg"
      ],
      "height": 25,
      "diameter": 110,
      "price": 150,
      "minQuantity": 0,
      "maxQuantity": 5,
      "required": false
    },
    {
      "id": "solar",
      "name": "Solar Module",
      "description": "30W PV Panel with MPPT",
      "specs": [
        "High-efficiency panels",
        "360° adjustable mount",
        "Weight: 18kg"
      ],
      "height": 25,
      "diameter": 110,
      "price": 400,
      "minQuantity": 0,
      "maxQuantity": 5,
      "required": false
    },
    {
      "id": "camera",
      "name": "Camera Module",
      "description": "4K 12MP Security Camera",
      "specs": [
        "360° rotation",
        "Night vision",
        "Weight: 15kg"
      ],
      "height": 25,
      "diameter": 110,
      "price": 600,
      "minQuantity": 0,
      "maxQuantity": 5,
      "required": false
    },
    {
      "id": "5g",
      "name": "5G Module",
      "description": "5G/LTE Communication Hub",
      "specs": [
        "Multi-band support",
        "Integrated router",
        "Weight: 16kg"
      ],
      "height": 25,
      "diameter": 110,
      "price": 400,
      "minQuantity": 0,
      "maxQuantity": 5,
      "required": false
    },
    {
      "id": "sensor",
      "name": "Sensor Module",
      "description": "Environmental Monitoring",
      "specs": [
        "Temperature/Humidity",
        "Air quality",
        "Weight: 12kg"
      ],
      "height": 25,
      "diameter": 110,
      "price": 200,
      "minQuantity": 0,
      "maxQuantity": 5,
      "required": false
    }
  ],
  "systemLimits": {
    "maxTotalHeight": 500,
    "maxModules": 20,
    "minModules": 1
  },
  "currency": "PLN",
  "currencySymbol": "zł"
};
        //"currency": "EUR",
  //"currencySymbol": "€"

        // Generate module HTML
        function createModuleHTML(module) {
            return `
                <div class="module-item" data-module-id="${module.id}">
                    <h3>${module.name}</h3>
                    <p>${module.description}</p>
                    <p class="module-specs">
                        ${module.specs.map(spec => `- ${spec}<br>`).join('')}
                    </p>
                    <p>Price: ${modulesConfig.currencySymbol}${module.price}</p>
                    <label>Quantity: <input type="number" 
                        min="${module.minQuantity}" 
                        max="${module.maxQuantity}" 
                        value="${module.minQuantity}"
                        ${module.required ? 'readonly' : ''}
                        class="module-qty"
                        data-height="${module.height}"
                        data-price="${module.price}">
                    </label>
                </div>
            `;
        }

        // Initialize configuration
        function initializeConfigurator() {
            const moduleList = document.getElementById('module-list');
            moduleList.innerHTML = modulesConfig.modules.map(createModuleHTML).join('');
            
            const moduleInputs = document.querySelectorAll('.module-qty');
            moduleInputs.forEach(input => {
                input.addEventListener('change', updateTotals);
            });

            updateTotals();
        }

        // Update totals
        function updateTotals() {
            const moduleInputs = document.querySelectorAll('.module-qty');
            let totalModules = 0;
            let totalPrice = 0;
            let totalHeight = 0;

            moduleInputs.forEach(input => {
                const quantity = parseInt(input.value);
                const height = parseInt(input.dataset.height);
                const price = parseInt(input.dataset.price);

                totalModules += quantity;
                totalHeight += quantity * height;
                totalPrice += quantity * price;
            });

            document.getElementById('total-modules').textContent = totalModules;
            document.getElementById('total-height').textContent = totalHeight;
            document.getElementById('total-price').textContent = totalPrice;
        }

        // PayPal integration
        paypal.Buttons({
            createOrder: function(data, actions) {
                return actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: document.getElementById('total-price').textContent
                        }
                    }]
                });
            },
            onApprove: function(data, actions) {
                return actions.order.capture().then(function(details) {
                    alert('Transaction completed by ' + details.payer.name.given_name);
                });
            }
        }).render('#paypal-button-container');

        // Initialize the configurator when the page loads
        document.addEventListener('DOMContentLoaded', initializeConfigurator);
    </script>
</body>
</html>
